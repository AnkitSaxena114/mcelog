#!/bin/bash

awk -F\| 'BEGIN {
	print "/* Do not edit. Autogenerated from cputype.table */" > "cputype.tmp"
	print "enum cputype {" > "cputype.tmp"
	print "\tCPU_GENERIC," > "cputype.tmp"
	print "\tCPU_K8," > "cputype.tmp"
	print "\tCPU_INTEL," > "cputype.tmp"
	print "\tCPU_P4," > "cputype.tmp"
	print "\tCPU_TULSA," > "cputype.tmp"
}
{
	printf("\t%s,\n", $1) > "cputype.tmp"
}
END {
	printf("};\n") > "cputype.tmp"
}' cputype.table
